<h1 id="python-dictionary-comprehensions">Python Dictionary Comprehensions</h1>
<p><a href="https://www.datacamp.com/community/tutorials/python-dictionary-comprehension">Python Dictionary Comprehension Tutorial</a></p>

<p>You’ll learn:</p>

<ul>
  <li>What it is, why it is important and how it can serve as an alternative to for loops and lambda functions.</li>
  <li>How to add conditionals into dictionary comprehensions: you will work with if conditions, multiple if conditions and also if-else statements.</li>
  <li>What nested dictionary comprehension is, how you can use it and how you can potentially rewrite it with for loops.</li>
</ul>

<p>Dictionary comprehension is a method for transforming one dictionary into another dictionary. During this transformation, items within the original dictionary can be conditionally included in the new dictionary and each item can be transformed as needed.</p>

<p>A good list comprehension can make your code more expressive and thus, easier to read. The key with creating comprehensions is to not let them get so complex that your head spins when you try to decipher what they are actually doing. Keeping the idea of “easy to read” alive.</p>

<p>The way to do dictionary comprehension in Python is to be able to access the key objects and the value objects of a dictionary.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s">'a'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'b'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'c'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'d'</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Put all keys of `dict1` in a list and returns the list</span>
<span class="n">dict1</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dict_keys(['a', 'b', 'c', 'd'])
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Put all values saved in `dict1` in a list and returns the list</span>
<span class="n">dict1</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dict_values([1, 2, 3, 4])
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">z</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'x'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'y'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">:</span> <span class="s">'a'</span><span class="p">}</span>
<span class="k">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">None</span><span class="p">))</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'x': 1, 'y': None, None: 'a'}
&lt;class 'NoneType'&gt;
</code></pre></div></div>

<p>So, now that you know how to access all the keys and their values in a dictionary. You can also access each key-value pair within a dictionary using the items() method:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dict_items([('a', 1), ('b', 2), ('c', 3), ('d', 4)])
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s">'a'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'b'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'c'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'d'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'e'</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</code></pre></div></div>

<p>This is the general template you can follow for dictionary comprehension. This can serve as the basic and the most simple template which can get more and more complex as you add conditionalities to it.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict_variable</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span><span class="n">value</span> <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dictonary</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Double each value in the dictionary</span>
<span class="n">double_dict1</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">double_dict1</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">*</span><span class="mi">2</span>
<span class="k">print</span><span class="p">(</span><span class="n">double_dict1</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'a': 2, 'b': 4, 'c': 6, 'd': 8, 'e': 10}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Double each value in the dictionary</span>
<span class="n">double_dict1</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="k">print</span><span class="p">(</span><span class="n">double_dict1</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'a': 2, 'b': 4, 'c': 6, 'd': 8, 'e': 10}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Double each value in the dictionary</span>
<span class="n">double_dict1</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="k">print</span><span class="p">(</span><span class="n">double_dict1</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'a': 2, 'b': 4, 'c': 6, 'd': 8, 'e': 10}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">double_dict1</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">dict1</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">keys</span><span class="p">()}</span>
<span class="k">print</span><span class="p">(</span><span class="n">double_dict1</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'a': 2, 'b': 4, 'c': 6, 'd': 8, 'e': 10}
</code></pre></div></div>

<p>You can also make changes to the key values. For example, let’s create the same dictionary as above but also change the names of the key.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1_keys</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="o">*</span><span class="mi">3</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="k">print</span><span class="p">(</span><span class="n">dict1_keys</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'aaa': 1, 'bbb': 2, 'ccc': 3, 'ddd': 4, 'eee': 5}
</code></pre></div></div>

<h2 id="why-use-dictionary-comprehension">Why Use Dictionary Comprehension?</h2>

<p>Dictionary comprehension is a powerful concept and can be used to substitute for loops and lambda functions. However, not all for loop can be written as a dictionary comprehension but all dictionary comprehension can be written with a for loop.</p>

<p>Consider the following problem, where you want to create a new dictionary where the key is a number divisible by 2 in a range of 0-10 and it’s value is the square of the number.</p>

<h3 id="alternative-to-for-loops">Alternative to for loops</h3>

<p>For loops are used to repeat a certain operation or a block of instructions in a program for a given number of times. However, nested for loops (for loop inside another for loop) can get confusing and complex. Dictionary comprehensions are better in such situations and can simplify the readability and your understanding of the code.</p>

<p>Let’s see how the same probem can be solved using a for loop and dictionary comprehension:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">numbers</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">new_dict_for</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c"># Add values to `new_dict` using for loop</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">new_dict_for</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span>

<span class="k">print</span><span class="p">(</span><span class="n">new_dict_for</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{0: 0, 2: 4, 4: 16, 6: 36, 8: 64}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Use dictionary comprehension</span>
<span class="n">new_dict_comp</span> <span class="o">=</span> <span class="p">{</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">numbers</span> <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">}</span>

<span class="k">print</span><span class="p">(</span><span class="n">new_dict_comp</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{0: 0, 2: 4, 4: 16, 6: 36, 8: 64}
</code></pre></div></div>

<h3 id="alternative-to-lambda-functions">Alternative to lambda functions</h3>

<p>Lambda functions are a way of creating small anonymous functions. They are functions without a name. These functions are throw-away functions, which are only needed where they have been created. Lambda functions are mainly used in combination with the functions <code class="highlighter-rouge">filter()</code>, <code class="highlighter-rouge">map()</code> and <code class="highlighter-rouge">reduce()</code>.</p>

<p>Let’s look at the lambda function along with the <code class="highlighter-rouge">map()</code> function:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Initialize `fahrenheit` dictionary </span>
<span class="n">fahrenheit</span> <span class="o">=</span> <span class="p">{</span><span class="s">'t1'</span><span class="p">:</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="s">'t2'</span><span class="p">:</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="s">'t3'</span><span class="p">:</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="s">'t4'</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>

<span class="c">#Get the corresponding `celsius` values</span>
<span class="n">celsius</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">/</span><span class="mi">9</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">32</span><span class="p">),</span> <span class="n">fahrenheit</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="n">celsius</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">celsius</span><span class="p">)</span>

<span class="c">#Create the `celsius` dictionary</span>
<span class="n">celsius_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">fahrenheit</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">celsius</span><span class="p">))</span>

<span class="k">print</span><span class="p">(</span><span class="n">celsius_dict</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'t1': -34.44444444444444, 't2': -28.88888888888889, 't3': -23.333333333333336, 't4': -17.77777777777778}
</code></pre></div></div>

<p>Now, let’s try to solve the same problem using dictionary comprehension:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Initialize the `fahrenheit` dictionary </span>
<span class="n">fahrenheit</span> <span class="o">=</span> <span class="p">{</span><span class="s">'t1'</span><span class="p">:</span> <span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="s">'t2'</span><span class="p">:</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="s">'t3'</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="s">'t4'</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>

<span class="c"># Get the corresponding `celsius` values and create the new dictionary</span>
<span class="n">celsius</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:(</span><span class="nb">float</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">/</span><span class="mi">9</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">v</span><span class="o">-</span><span class="mi">32</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">fahrenheit</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

<span class="k">print</span><span class="p">(</span><span class="n">celsius_dict</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'t1': -34.44444444444444, 't2': -28.88888888888889, 't3': -23.333333333333336, 't4': -17.77777777777778}
</code></pre></div></div>

<h2 id="adding-conditionals-to-dictionary-comprehension">Adding Conditionals to Dictionary Comprehension</h2>

<p>You often need to add conditions to a solution while tackling problems. Let’s explore how you can add conditionals into dictionary comprehension to make it more powerful.</p>

<h3 id="if-condition">If Condition</h3>

<p>Let’s suppose you need to create a new dictionary from a given dictionary but with items that are greater than 2. This means that you need to add a condition to the original template you saw above…</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s">'a'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'b'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'c'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'d'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'e'</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>

<span class="c"># Check for items greater than 2</span>
<span class="n">dict1_cond</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">}</span>

<span class="k">print</span><span class="p">(</span><span class="n">dict1_cond</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'c': 3, 'd': 4, 'e': 5}
</code></pre></div></div>

<h3 id="multiple-if-conditions">Multiple If Conditions</h3>

<p>In the problem above, what if you have to not only get the items greater than 2 but also need to check if they are multiples of 2 at the same time.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1_doubleCond</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="o">&gt;</span><span class="mi">2</span> <span class="k">if</span> <span class="n">v</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">}</span>

<span class="k">print</span><span class="p">(</span><span class="n">dict1_doubleCond</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'d': 4}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1_doubleCond</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="o">&gt;</span><span class="mi">2</span> <span class="ow">and</span> <span class="n">v</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">}</span>

<span class="k">print</span><span class="p">(</span><span class="n">dict1_doubleCond</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'d': 4}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1_doubleCond</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="o">&gt;</span><span class="mi">2</span> <span class="ow">or</span> <span class="n">v</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">}</span>

<span class="k">print</span><span class="p">(</span><span class="n">dict1_doubleCond</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'b': 2, 'c': 3, 'd': 4, 'e': 5}
</code></pre></div></div>

<p>The solution to adding multiple conditionals is as easy as simply adding the conditions one after another in your comprehension. However, you need to be careful about what you are trying to do in the problem. Remember, that the consecutive if statements work as if they had <code class="highlighter-rouge">and</code> clauses between them.</p>

<p>Lets see one more example with three conditionals:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s">'a'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'b'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'c'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'d'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'e'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">'f'</span><span class="p">:</span><span class="mi">6</span><span class="p">}</span>

<span class="n">dict1_tripleCond</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="o">&gt;</span><span class="mi">2</span> <span class="k">if</span> <span class="n">v</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">v</span><span class="o">%</span><span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">}</span>

<span class="k">print</span><span class="p">(</span><span class="n">dict1_tripleCond</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'f': 6}
</code></pre></div></div>

<p>In a for loop, this will correspond to:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1_tripleCond</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="o">&gt;=</span><span class="mi">2</span> <span class="ow">and</span> <span class="n">v</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">v</span><span class="o">%</span><span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">dict1_tripleCond</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

<span class="k">print</span><span class="p">(</span><span class="n">dict1_tripleCond</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'f': 6}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1_tripleCond</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">v</span><span class="o">&gt;=</span><span class="mi">2</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">v</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">v</span><span class="o">%</span><span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">dict1_tripleCond</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

<span class="k">print</span><span class="p">(</span><span class="n">dict1_tripleCond</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'f': 6}
</code></pre></div></div>

<h3 id="if-else-conditions">If-Else Conditions</h3>

<p>Dealing with an if-else condition is also easy with dictionary comprehension. Check out the following example to see it for yourself:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dict1</span> <span class="o">=</span> <span class="p">{</span><span class="s">'a'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'b'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'c'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'d'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'e'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">'f'</span><span class="p">:</span><span class="mi">6</span><span class="p">}</span>

<span class="c"># Identify odd and even entries</span>
<span class="n">dict1_tripleCond</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:(</span><span class="s">'even'</span> <span class="k">if</span> <span class="n">v</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span> <span class="k">else</span> <span class="s">'odd'</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

<span class="k">print</span><span class="p">(</span><span class="n">dict1_tripleCond</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'a': 'odd', 'b': 'even', 'c': 'odd', 'd': 'even', 'e': 'odd', 'f': 'even'}
</code></pre></div></div>

<h2 id="nested-dictionary-comprehension">Nested Dictionary Comprehension</h2>

<p>Nesting is a programming concept where data is organized in layers, or where objects contain other similar objects. You must have often seen a nested ‘if’ structure, which is an if condition inside another if condition.</p>

<p>Similarly, dictionaries can be nested and thus their comprehensions can be nested as well. Let’s see what this means:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nested_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">'first'</span><span class="p">:{</span><span class="s">'a'</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span> <span class="s">'second'</span><span class="p">:{</span><span class="s">'b'</span><span class="p">:</span><span class="mi">2</span><span class="p">}}</span>
<span class="n">float_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="n">outer_k</span><span class="p">:</span> <span class="p">{</span><span class="n">inner_k</span><span class="p">:</span><span class="nb">float</span><span class="p">(</span><span class="n">inner_v</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">inner_k</span><span class="p">,</span> <span class="n">inner_v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">outer_v</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span> 
              <span class="k">for</span> <span class="p">(</span><span class="n">outer_k</span><span class="p">,</span> <span class="n">outer_v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">nested_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="p">}</span>

<span class="k">print</span><span class="p">(</span><span class="n">float_dict</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'first': {'a': 1.0}, 'second': {'b': 2.0}}
</code></pre></div></div>

<p>This is an example of a nested dictionary. The <code class="highlighter-rouge">nested_dict</code> is a dictionary with the keys: <code class="highlighter-rouge">first</code> and <code class="highlighter-rouge">second</code>, which hold dictionary objects in their values. The code works with the inner dictionary values and converts them to float and then combines the outer keys with the new float inner values into a new dictionary.</p>

<p>The code also has a nested dictionary comprehension, which is dictionary comprehension inside another one. The dictionary comprehension when nested as you can see can get pretty hard to read as well as understand, which takes away the whole point of using comprehensions in the first place. As the structure of the dictionary you are working with gets complicated, the dictionary comprehension starts to get complicated as well. For such situations, you might be better off not using complicated comprehensions in your code.</p>

<p>Note that you can rewrite the above code chunk also with a nested for loop:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nested_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">'first'</span><span class="p">:{</span><span class="s">'a'</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span> <span class="s">'second'</span><span class="p">:{</span><span class="s">'b'</span><span class="p">:</span><span class="mi">2</span><span class="p">}}</span>

<span class="k">for</span> <span class="p">(</span><span class="n">outer_k</span><span class="p">,</span> <span class="n">outer_v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">nested_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">inner_k</span><span class="p">,</span> <span class="n">inner_v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">outer_v</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">outer_v</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">inner_k</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">inner_v</span><span class="p">)})</span>
<span class="n">nested_dict</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">outer_k</span><span class="p">:</span><span class="n">outer_v</span><span class="p">})</span>

<span class="k">print</span><span class="p">(</span><span class="n">nested_dict</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'first': {'a': 1.0}, 'second': {'b': 2.0}}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>
