<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>05 - Writing Your First Test - Data Focused Python</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-139655036-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-139655036-1'); </script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>05 - Writing Your First Test | Data Focused Python</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="05 - Writing Your First Test" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/05%20-%20Writing%20Your%20First%20Test.html" /> <meta property="og:url" content="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/05%20-%20Writing%20Your%20First%20Test.html" /> <meta property="og:site_name" content="Data Focused Python" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="05 - Writing Your First Test" /> <script type="application/ld+json"> {"headline":"05 - Writing Your First Test","url":"http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/05%20-%20Writing%20Your%20First%20Test.html","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Data Focused Python </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Data Focused Python</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures" class="nav-list-link">Lectures</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started.html" class="nav-list-link">Topic 01 - Getting Started</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/01%20-%20Getting%20Started.html" class="nav-list-link">01 - Getting Started</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/02%20-%20Running%20Python.html" class="nav-list-link">02 - Running Python</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/03%20-%20Your%20First%20Python%20Program.html" class="nav-list-link">03 - Your First Python Program</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/04%20-%20Python%20Modules%20and%20Packages.html" class="nav-list-link">04 - Python Modules and Packages</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/05%20-%20Start%20a%20process%20in%20Python.html" class="nav-list-link">05 - Start a process in Python</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/06.a%20-%20Writing%20Terminal%20Application.html" class="nav-list-link">06.a - Writing Terminal Application</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/06.b%20-%20Argparse.html" class="nav-list-link">06.b - Argparse</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2002%20-%20Python%20basics.html" class="nav-list-link">Topic 02 - Python basics</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2002%20-%20Python%20basics/01%20-%20Decision%20Structures%20and%20Boolean%20Logic.html" class="nav-list-link">01 - Decision Structures and Boolean Logic</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2002%20-%20Python%20basics/02%20-%20Python%20Tuples.html" class="nav-list-link">02 - Python Tuples</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2002%20-%20Python%20basics/03%20-%20Loops.html" class="nav-list-link">03 - Loops</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2002%20-%20Python%20basics/04%20-%20Python%20Functions.html" class="nav-list-link">04 - Python Functions</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data.html" class="nav-list-link">Topic 03 - Generating Data</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data/01%20-%20Generating%20Fake%20Data.html" class="nav-list-link">01 - Generating Fake Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data/02%20-%20Using%20Faker.html" class="nav-list-link">02 - Using Faker</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data/03%20-%20Generating%20Synthetic%20Healthcare%20Data.html" class="nav-list-link">03 - Generating Synthetic Healthcare Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data/04%20-%20Using%20Synthea.html" class="nav-list-link">04 - Using Synthea</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data/05%20-%20Generating%20Other%20Synthetic%20Data.html" class="nav-list-link">05 - Generating Other Synthetic Data</a> </li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code.html" class="nav-list-link">Topic 04 - Writing Testable Code</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/01%20-%20Python%20Code%20Quality%20Tools%20and%20Best%20Practices.html" class="nav-list-link">01 - Python Code Quality Tools and Best Practices</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/02%20-%20Python%20Testing.html" class="nav-list-link">02 - Python Testing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/03%20-%20Getting%20Started%20With%20Testing%20in%20Python.html" class="nav-list-link">03 - Getting Started With Testing in Python</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/04-%20Choosing%20a%20Test%20Runner.html" class="nav-list-link">04- Choosing a Test Runner</a> </li><li class="nav-list-item active"> <a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/05%20-%20Writing%20Your%20First%20Test.html" class="nav-list-link active">05 - Writing Your First Test</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/06%20-%20Writing%20Integration%20Tests.html" class="nav-list-link">06 - Writing Integration Tests</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/07%20-%20Testing%20in%20Multiple%20Environments.html" class="nav-list-link">07 - Testing in Multiple Environments</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/08%20-%20Introducing%20Linters%20Into%20Your%20Application.html" class="nav-list-link">08 - Introducing Linters Into Your Application</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/09%20-%20Testing%20for%20Performance%20Degradation%20Between%20Changes.html" class="nav-list-link">09 - Testing for Performance Degradation Between Changes</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code/10%20-%20Testing%20for%20Security%20Flaws%20in%20Your%20Application.html" class="nav-list-link">10 - Testing for Security Flaws in Your Application</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files.html" class="nav-list-link">Topic 05 - Processing files</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/01.a%20-%20File%20Processing.html" class="nav-list-link">01.a - File Processing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/01.b%20-%20CSV%20Files.html" class="nav-list-link">01.b - CSV Files</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/01.c%20-%20JSON%20Files.html" class="nav-list-link">01.c - JSON Files</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/01.d%20-%20XML%20Files.html" class="nav-list-link">01.d - XML Files</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/03%20-%20Using%20fhirclient%20to%20parse%20Healthcare%20Data.html" class="nav-list-link">03 - Using fhirclient to parse Healthcare Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/04%20-%20Reading%20synthea%20data.html" class="nav-list-link">04 - Reading synthea data</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators.html" class="nav-list-link">Topic 06 - Comprehensions and Generators</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators/02%20-%20Lists%20and%20List%20Comprehensions.html" class="nav-list-link">02 - Lists and List Comprehensions</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators/03%20-%20Sets%20and%20Set%20Comprehensions.html" class="nav-list-link">03 - Sets and Set Comprehensions</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators/04.a%20-%20Dictionaries.html" class="nav-list-link">04.a - Dictionaries</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators/04.b%20-%20Dictionary%20Comprehensions.html" class="nav-list-link">04.b - Dictionary Comprehensions</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators/05%20-%20Python%20Generators.html" class="nav-list-link">05 - Python Generators</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2007%20-%20Classes.html" class="nav-list-link">Topic 07 - Classes</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2007%20-%20Classes/01%20-%20Python%20Classes.html" class="nav-list-link">01 - Python Classes</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2008%20-%20Making%20Web%20Requests.html" class="nav-list-link">Topic 08 - Making Web Requests</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2008%20-%20Making%20Web%20Requests/03%20-%20Using%20requests%20to%20fetch%20Healthcare%20Data.html" class="nav-list-link">03 - Using requests to fetch Healthcare Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2008%20-%20Making%20Web%20Requests/05%20-%20Getting%20Data%20from%20Web%20APIs.html" class="nav-list-link">05 - Getting Data from Web APIs</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2009%20-%20Interfacing%20with%20Databases.html" class="nav-list-link">Topic 09 - Interfacing with Databases</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201.html" class="nav-list-link">Topic 10 - Data Processing and Visualization Part 1</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/01.a%20-%20Cleaning%20and%20Transforming%20Data.html" class="nav-list-link">01.a - Cleaning and Transforming Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/01.b%20-%20Grouping%20Data.html" class="nav-list-link">01.b - Grouping Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/01.c%20-%20Descriptive%20Statistics.html" class="nav-list-link">01.c - Descriptive Statistics</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/02%20-%20Basic%20Medical%20Data%20Visualization.html" class="nav-list-link">02 - Basic Medical Data Visualization</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/03.a%20-%20NumPy%20Introduction.html" class="nav-list-link">03.a - NumPy Introduction</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/03.b%20-%20NumPy%20Data%20analysis.html" class="nav-list-link">03.b - NumPy Data analysis</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202.html" class="nav-list-link">Topic 11 - Data Processing and Visualization Part 2</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/00%20-%20Additional%20Links.html" class="nav-list-link">00 - Additional Links</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/01%20-%20Pandas%20Introduction.html" class="nav-list-link">01 - Pandas Introduction</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/02.a%20-%20Pandas%20Data%20analysis%20Part%201.html" class="nav-list-link">02.a - Pandas Data analysis Part 1</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/02.b%20-%20Pandas%20Data%20analysis%20Part%202.html" class="nav-list-link">02.b - Pandas Data analysis Part 2</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/03%20-%20Matplotlib%20Tutorial%20Python%20Plotting.html" class="nav-list-link">03 - Matplotlib Tutorial Python Plotting</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/04%20-%20The%20Ultimate%20Python%20Seaborn%20Tutorial.html" class="nav-list-link">04 - The Ultimate Python Seaborn Tutorial</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping.html" class="nav-list-link">Topic 12 - Web Scraping</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/01.%20Introduction%20to%20Web%20Scraping.html" class="nav-list-link">01. Introduction to Web Scraping</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/02.%20CSS%20Selectors.html" class="nav-list-link">02. CSS Selectors</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/03.a%20Web%20Scraping%20with%20Beautiful%20Soup.html" class="nav-list-link">03.a Web Scraping with Beautiful Soup</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/03.b%20Web%20Scraping%20Using%20Selenium.html" class="nav-list-link">03.b Web Scraping Using Selenium</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/03.c%20Web%20scraping%20with%20Scrapy.html" class="nav-list-link">03.c Web scraping with Scrapy</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/04.a%20-%20More%20Web%20Scraping%20with%20BeautifulSoup.html" class="nav-list-link">04.a - More Web Scraping with BeautifulSoup</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/04.b%20-%20Even%20More%20Web%20Scraping%20with%20BeautifulSoup.html" class="nav-list-link">04.b - Even More Web Scraping with BeautifulSoup</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/resources" class="nav-list-link">Resources</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/lectures">Lectures</a></li> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code.html">Topic 04 - Writing Testable Code</a></li> <li class="breadcrumb-nav-list-item"><span>05 - Writing Your First Test</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="writing-your-first-test"> <a href="#writing-your-first-test" class="anchor-heading" aria-labelledby="writing-your-first-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Writing Your First Test </h1> <p><a href="https://realpython.com/python-testing/">Source</a></p> <p>Let’s bring together what you’ve learned so far and, instead of testing the built-in sum() function, test a simple implementation of the same requirement.</p> <p>Let’s bring together what you’ve learned so far and, instead of testing the built-in sum() function, test a simple implementation of the same requirement.</p> <p>Create a new project folder and, inside that, create a new folder called <code class="language-plaintext highlighter-rouge">my_sum</code>. Inside <code class="language-plaintext highlighter-rouge">my_sum</code>, create an empty file called <code class="language-plaintext highlighter-rouge">__init__.py</code>. Creating the <code class="language-plaintext highlighter-rouge">__init__.py</code> file means that the <code class="language-plaintext highlighter-rouge">my_sum</code> folder can be imported as a module from the parent directory.</p> <p>Your project folder should look like this:</p> <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>project/
│
└── my_sum/
    └── __init__.py
</code></pre></div></div> <p>Open up <code class="language-plaintext highlighter-rouge">my_sum/__init__.py</code> and create a new function called <code class="language-plaintext highlighter-rouge">sum()</code>, which takes an iterable (a list, tuple, or set) and adds the values together:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># contents of my_sum/__init__.py
</span><span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">arg</span><span class="p">:</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="n">val</span>
    <span class="k">return</span> <span class="n">total</span>
</code></pre></div></div> <h2 id="where-to-write-the-test"> <a href="#where-to-write-the-test" class="anchor-heading" aria-labelledby="where-to-write-the-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Where to Write the Test </h2> <p>To get started writing tests, you can simply create a file called test.py, which will contain your first test case. Because the file will need to be able to import your application to be able to test it, you want to place test.py above the package folder, so your directory tree will look something like this:</p> <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>project/
│
├── my_sum/
│   └── __init__.py
|
└── test.py
</code></pre></div></div> <p>You’ll find that, as you add more and more tests, your single file will become cluttered and hard to maintain, so you can create a folder called <code class="language-plaintext highlighter-rouge">tests/</code> and split the tests into multiple files. It is convention to ensure each file starts with test_ so all test runners will assume that Python file contains tests to be executed. Some very large projects split tests into more subdirectories based on their purpose or usage.</p> <p><strong><em>Note:</em></strong> What if your application is a single script?</p> <p>You can import any attributes of the script, such as classes, functions, and variables by using the built-in <code class="language-plaintext highlighter-rouge">__import__()</code> function. Instead of <code class="language-plaintext highlighter-rouge">from my_sum import sum</code>, you can write the following:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">target</span> <span class="o">=</span> <span class="nb">__import__</span><span class="p">(</span><span class="s">"my_sum.py"</span><span class="p">)</span>
<span class="nb">sum</span> <span class="o">=</span> <span class="n">target</span><span class="p">.</span><span class="nb">sum</span>
</code></pre></div></div> <p>The benefit of using <code class="language-plaintext highlighter-rouge">__import__()</code> is that you don’t have to turn your project folder into a package, and you can specify the file name. This is also useful if your filename collides with any standard library packages. For example, <code class="language-plaintext highlighter-rouge">math.py</code> would collide with the <code class="language-plaintext highlighter-rouge">math</code> module.</p> <h2 id="how-to-structure-a-simple-test"> <a href="#how-to-structure-a-simple-test" class="anchor-heading" aria-labelledby="how-to-structure-a-simple-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How to Structure a Simple Test </h2> <p>Before you dive into writing tests, you’ll want to first make a couple of decisions:</p> <ol> <li>What do you want to test?</li> <li>Are you writing a unit test or an integration test?</li> </ol> <p>Then the structure of a test should loosely follow this workflow:</p> <ol> <li>Create your inputs</li> <li>Execute the code being tested, capturing the output</li> <li>Compare the output with an expected result</li> </ol> <p>For this application, you’re testing sum(). There are many behaviors in sum() you could check, such as:</p> <ol> <li>Can it sum a list of whole numbers (integers)?</li> <li>Can it sum a tuple or set?</li> <li>Can it sum a list of floats?</li> <li>What happens when you provide it with a bad value, such as a single integer or a string?</li> <li>What happens when one of the values is negative?</li> </ol> <p>The most simple test would be a list of integers. Create a file, <code class="language-plaintext highlighter-rouge">test.py</code> with the following Python code:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="kn">from</span> <span class="nn">my_sum</span> <span class="kn">import</span> <span class="nb">sum</span>

<span class="k">class</span> <span class="nc">TestSum</span><span class="p">(</span><span class="n">unittest</span><span class="p">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_list_int</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""
        Test that it can sum a list of integers
        """</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_list_fraction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""
        Test that it can sum a list of fractions
        """</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_bad_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="s">"banana"</span>
        <span class="k">with</span> <span class="bp">self</span><span class="p">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="nb">TypeError</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">unittest</span><span class="p">.</span><span class="n">main</span><span class="p">()</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!</span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">nose2</span> <span class="n">test</span>
</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
----------------------------------------------------------------------
Ran 3 tests in 0.000s

OK
</code></pre></div></div> <h2 id="isolating-behaviors-in-our-application"> <a href="#isolating-behaviors-in-our-application" class="anchor-heading" aria-labelledby="isolating-behaviors-in-our-application"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Isolating Behaviors in our Application </h2> <p>Side effects make unit testing harder since, each time a test is run, it might give a different result, or even worse, one test could impact the state of the application and cause another test to fail!</p> <p>There are some simple techniques you can use to test parts of your application that have many side effects:</p> <ul> <li>Refactoring code to follow the Single Responsibility Principle</li> <li>Mocking out any method or function calls to remove side effects</li> <li>Using integration testing instead of unit testing for this piece of the application</li> </ul> <p>If you’re not familiar with mocking, see <a href="https://realpython.com/python-cli-testing/#mocks">Python CLI Testing</a> for some great examples.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div> </div> </div> </div> </body> </html>
