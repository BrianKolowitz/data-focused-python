<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>01. Introduction to Web Scraping - Data Focused Python</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-139655036-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-139655036-1'); </script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Introduction to Web Scraping | Data Focused Python</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Introduction to Web Scraping" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/01.%20Introduction%20to%20Web%20Scraping.html" /> <meta property="og:url" content="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/01.%20Introduction%20to%20Web%20Scraping.html" /> <meta property="og:site_name" content="Data Focused Python" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Introduction to Web Scraping" /> <script type="application/ld+json"> {"headline":"Introduction to Web Scraping","url":"http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/01.%20Introduction%20to%20Web%20Scraping.html","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Data Focused Python </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Data Focused Python</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures" class="nav-list-link">Lectures</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started.html" class="nav-list-link">Topic 01 - Getting Started</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/01%20-%20Getting%20Started.html" class="nav-list-link">01 - Getting Started</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/02%20-%20Running%20Python.html" class="nav-list-link">02 - Running Python</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/03%20-%20Your%20First%20Python%20Program.html" class="nav-list-link">03 - Your First Python Program</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/04%20-%20Python%20Modules%20and%20Packages.html" class="nav-list-link">04 - Python Modules and Packages</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/05%20-%20Start%20a%20process%20in%20Python.html" class="nav-list-link">05 - Start a process in Python</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/06.a%20-%20Writing%20Terminal%20Application.html" class="nav-list-link">06.a - Writing Terminal Application</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2001%20-%20Getting%20Started/06.b%20-%20Argparse.html" class="nav-list-link">06.b - Argparse</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2002%20-%20Python%20basics.html" class="nav-list-link">Topic 02 - Python basics</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2002%20-%20Python%20basics/01%20-%20Decision%20Structures%20and%20Boolean%20Logic.html" class="nav-list-link">01 - Decision Structures and Boolean Logic</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2002%20-%20Python%20basics/02%20-%20Python%20Tuples.html" class="nav-list-link">02 - Python Tuples</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2002%20-%20Python%20basics/03%20-%20Loops.html" class="nav-list-link">03 - Loops</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2002%20-%20Python%20basics/04%20-%20Python%20Functions.html" class="nav-list-link">04 - Python Functions</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data.html" class="nav-list-link">Topic 03 - Generating Data</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data/01%20-%20Generating%20Fake%20Data.html" class="nav-list-link">01 - Generating Fake Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data/02%20-%20Using%20Faker.html" class="nav-list-link">02 - Using Faker</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data/03%20-%20Generating%20Synthetic%20Healthcare%20Data.html" class="nav-list-link">03 - Generating Synthetic Healthcare Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data/04%20-%20Using%20Synthea.html" class="nav-list-link">04 - Using Synthea</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2003%20-%20Generating%20Data/05%20-%20Generating%20Other%20Synthetic%20Data.html" class="nav-list-link">05 - Generating Other Synthetic Data</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2004%20-%20Writing%20Testable%20Code.html" class="nav-list-link">Topic 04 - Writing Testable Code</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files.html" class="nav-list-link">Topic 05 - Processing files</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/01.a%20-%20File%20Processing.html" class="nav-list-link">01.a - File Processing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/01.b%20-%20CSV%20Files.html" class="nav-list-link">01.b - CSV Files</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/01.c%20-%20JSON%20Files.html" class="nav-list-link">01.c - JSON Files</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/01.d%20-%20XML%20Files.html" class="nav-list-link">01.d - XML Files</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/03%20-%20Using%20fhirclient%20to%20parse%20Healthcare%20Data.html" class="nav-list-link">03 - Using fhirclient to parse Healthcare Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2005%20-%20Processing%20files/04%20-%20Reading%20synthea%20data.html" class="nav-list-link">04 - Reading synthea data</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators.html" class="nav-list-link">Topic 06 - Comprehensions and Generators</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators/02%20-%20Lists%20and%20List%20Comprehensions.html" class="nav-list-link">02 - Lists and List Comprehensions</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators/03%20-%20Sets%20and%20Set%20Comprehensions.html" class="nav-list-link">03 - Sets and Set Comprehensions</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators/04.a%20-%20Dictionaries.html" class="nav-list-link">04.a - Dictionaries</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators/04.b%20-%20Dictionary%20Comprehensions.html" class="nav-list-link">04.b - Dictionary Comprehensions</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2006%20-%20Comprehensions%20and%20Generators/05%20-%20Python%20Generators.html" class="nav-list-link">05 - Python Generators</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2007%20-%20Classes.html" class="nav-list-link">Topic 07 - Classes</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2007%20-%20Classes/01%20-%20Python%20Classes.html" class="nav-list-link">01 - Python Classes</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2008%20-%20Making%20Web%20Requests.html" class="nav-list-link">Topic 08 - Making Web Requests</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2008%20-%20Making%20Web%20Requests/03%20-%20Using%20requests%20to%20fetch%20Healthcare%20Data.html" class="nav-list-link">03 - Using requests to fetch Healthcare Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2008%20-%20Making%20Web%20Requests/05%20-%20Getting%20Data%20from%20Web%20APIs.html" class="nav-list-link">05 - Getting Data from Web APIs</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2009%20-%20Interfacing%20with%20Databases.html" class="nav-list-link">Topic 09 - Interfacing with Databases</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201.html" class="nav-list-link">Topic 10 - Data Processing and Visualization Part 1</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/01.a%20-%20Cleaning%20and%20Transforming%20Data.html" class="nav-list-link">01.a - Cleaning and Transforming Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/01.b%20-%20Grouping%20Data.html" class="nav-list-link">01.b - Grouping Data</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/01.c%20-%20Descriptive%20Statistics.html" class="nav-list-link">01.c - Descriptive Statistics</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/02%20-%20Basic%20Medical%20Data%20Visualization.html" class="nav-list-link">02 - Basic Medical Data Visualization</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/03.a%20-%20NumPy%20Introduction.html" class="nav-list-link">03.a - NumPy Introduction</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2010%20-%20Data%20Processing%20and%20Visualization%20Part%201/03.b%20-%20NumPy%20Data%20analysis.html" class="nav-list-link">03.b - NumPy Data analysis</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202.html" class="nav-list-link">Topic 11 - Data Processing and Visualization Part 2</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/00%20-%20Additional%20Links.html" class="nav-list-link">00 - Additional Links</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/01%20-%20Pandas%20Introduction.html" class="nav-list-link">01 - Pandas Introduction</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/02.a%20-%20Pandas%20Data%20analysis%20Part%201.html" class="nav-list-link">02.a - Pandas Data analysis Part 1</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/02.b%20-%20Pandas%20Data%20analysis%20Part%202.html" class="nav-list-link">02.b - Pandas Data analysis Part 2</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/03%20-%20Matplotlib%20Tutorial%20Python%20Plotting.html" class="nav-list-link">03 - Matplotlib Tutorial Python Plotting</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2011%20-%20Data%20Processing%20and%20Visualization%20Part%202/04%20-%20The%20Ultimate%20Python%20Seaborn%20Tutorial.html" class="nav-list-link">04 - The Ultimate Python Seaborn Tutorial</a> </li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping.html" class="nav-list-link">Topic 12 - Web Scraping</a><ul class="nav-list"><li class="nav-list-item active"> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/01.%20Introduction%20to%20Web%20Scraping.html" class="nav-list-link active">01. Introduction to Web Scraping</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/02.%20CSS%20Selectors.html" class="nav-list-link">02. CSS Selectors</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/03.a%20Web%20Scraping%20with%20Beautiful%20Soup.html" class="nav-list-link">03.a Web Scraping with Beautiful Soup</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/03.b%20Web%20Scraping%20Using%20Selenium.html" class="nav-list-link">03.b Web Scraping Using Selenium</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/03.c%20Web%20scraping%20with%20Scrapy.html" class="nav-list-link">03.c Web scraping with Scrapy</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/04.a%20-%20More%20Web%20Scraping%20with%20BeautifulSoup.html" class="nav-list-link">04.a - More Web Scraping with BeautifulSoup</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping/04.b%20-%20Even%20More%20Web%20Scraping%20with%20BeautifulSoup.html" class="nav-list-link">04.b - Even More Web Scraping with BeautifulSoup</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/resources" class="nav-list-link">Resources</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/lectures">Lectures</a></li> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/lectures/Topic%2012%20-%20Web%20Scraping.html">Topic 12 - Web Scraping</a></li> <li class="breadcrumb-nav-list-item"><span>01. Introduction to Web Scraping</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="introduction-to-web-scraping-with-python"> <a href="#introduction-to-web-scraping-with-python" class="anchor-heading" aria-labelledby="introduction-to-web-scraping-with-python"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction to web scraping with python </h1> <p><a href="https://dev.to/lewiskori/introduction-to-web-scraping-with-python-24li">source</a></p> <h2 id="what-is-web-scraping"> <a href="#what-is-web-scraping" class="anchor-heading" aria-labelledby="what-is-web-scraping"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What is web scraping? </h2> <p>This is the process of extracting information from a webpage by taking advantage of patterns in the web page’s underlying code.</p> <p>We can use web scraping to gather unstructured data from the internet, process it and store it in a structured format.</p> <p>In this walkthrough, we’ll be storing our data in a JSON file.</p> <h2 id="alternatives-to-web-scraping"> <a href="#alternatives-to-web-scraping" class="anchor-heading" aria-labelledby="alternatives-to-web-scraping"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Alternatives to web scraping </h2> <p>Though web scraping is a useful tool in extracting data from a website, it’s not the only means to achieve this task.</p> <p>Before starting to web scrape, find out if the page you seek to extract data from provides an API.</p> <h2 id="robotstxt-file"> <a href="#robotstxt-file" class="anchor-heading" aria-labelledby="robotstxt-file"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> robots.txt file </h2> <p>Ensure that you check the robots.txt file of a website before making your scrapper. This file tells if the website allows scraping or if they do not.</p> <p>To check for the file, simply type the base URL followed by “/robots.txt” An example is, “mysite.com/robots.txt”.</p> <p>For more about robots.txt files click <a href="https://varvy.com/robottxt.html">here</a>.</p> <h2 id="getting-started"> <a href="#getting-started" class="anchor-heading" aria-labelledby="getting-started"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Getting started </h2> <p>In this tutorial, we’ll be extracting data from <a href="http://books.toscrape.com/">books to scrape</a> which you can use to practise your web scraping.</p> <p>We’ll extract the title, rating, link to more information about the book and the cover image of the book. Code can be found on <a href="https://github.com/lewis-kori/webcrawler-tutorial">GitHub</a>.</p> <h3 id="importing-libraries"> <a href="#importing-libraries" class="anchor-heading" aria-labelledby="importing-libraries"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Importing libraries </h3> <p>The python libraries perform the following tasks.</p> <ul> <li>requests - will be used to make Http requests to the webpage.</li> <li>json - we’ll use this to store the extracted information to a JSON file.</li> <li>BeautifulSoup - for parsing HTML.</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
</code></pre></div></div> <h3 id="walkthrough"> <a href="#walkthrough" class="anchor-heading" aria-labelledby="walkthrough"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> walkthrough </h3> <p>We’re initializing three variables here.</p> <ul> <li>header-HTTP headers provide additional parameters to HTTP transactions. By sending the appropriate HTTP headers, one can access the response data in a different format.</li> <li>base_url - is the webpage we want to scrape since we’ll be needing the URL quite often, it’s good to have a single initialization and reuse this variable going forward.</li> <li>r - this is the response object returned by the get method. Here, we pass the base_url and header as parameters.</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'User-Agent'</span><span class="p">:</span> <span class="s">'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.7) Gecko/2009021910 Firefox/3.0.7'</span><span class="p">}</span>

<span class="n">base_url</span> <span class="o">=</span> <span class="s">"http://books.toscrape.com/"</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
</code></pre></div></div> <p>To ensure our scraper runs when the http response is ok we’ll use the if statement as a check. The number 200 is the status code for Ok. To get a list of all codes and their meanings <a href="https://www.restapitutorial.com/httpstatuscodes.html">check out this resource</a>.</p> <p>We’ll then parse the response object using the BeautifulSoup method and store the new object to a variable called soup.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">r</span><span class="p">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">text</span><span class="p">,</span> <span class="s">'html.parser'</span><span class="p">)</span>
    <span class="n">books</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'li'</span><span class="p">,</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"col-xs-6 col-sm-4 col-md-3 col-lg-3"</span><span class="p">})</span>
    <span class="n">result</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">book</span> <span class="ow">in</span> <span class="n">books</span><span class="p">:</span>
        <span class="n">title</span><span class="o">=</span><span class="n">book</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'h3'</span><span class="p">).</span><span class="n">text</span>
        <span class="n">link</span><span class="o">=</span><span class="n">base_url</span> <span class="o">+</span><span class="n">book</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'a'</span><span class="p">)[</span><span class="s">'href'</span><span class="p">]</span>
        <span class="n">stars</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">book</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'i'</span><span class="p">,</span><span class="n">attrs</span><span class="o">=</span>  <span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"icon-star"</span><span class="p">})))</span> <span class="o">+</span> <span class="s">" out of 5"</span>
        <span class="n">price</span><span class="o">=</span><span class="s">"$"</span><span class="o">+</span><span class="n">book</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'p'</span><span class="p">,</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'price_color'</span><span class="p">}).</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="n">picture</span> <span class="o">=</span> <span class="n">base_url</span> <span class="o">+</span> <span class="n">book</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'img'</span><span class="p">)[</span><span class="s">'src'</span><span class="p">]</span>
        <span class="n">single</span> <span class="o">=</span><span class="p">{</span><span class="s">'title'</span><span class="p">:</span><span class="n">title</span><span class="p">,</span><span class="s">'stars'</span><span class="p">:</span><span class="n">stars</span><span class="p">,</span><span class="s">'price'</span><span class="p">:</span><span class="n">price</span><span class="p">,</span><span class="s">'link'</span><span class="p">:</span><span class="n">link</span><span class="p">,</span><span class="s">'picture'</span><span class="p">:</span><span class="n">picture</span><span class="p">}</span>
        <span class="n">result</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">single</span><span class="p">)</span>
        
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'books.json'</span><span class="p">,</span><span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">json</span><span class="p">.</span><span class="n">dump</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">status_code</span><span class="p">)</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_json</span><span class="p">(</span><span class="s">'books.json'</span><span class="p">)</span>
<span class="n">df</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div> <div> <style scoped=""> .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } </style> <div class="table-wrapper"><table border="1" class="dataframe"> <thead> <tr style="text-align: right;"> <th></th> <th>title</th> <th>stars</th> <th>price</th> <th>link</th> <th>picture</th> </tr> </thead> <tbody> <tr> <th>0</th> <td>A Light in the ...</td> <td>5 out of 5</td> <td>$51.77</td> <td>http://books.toscrape.com/catalogue/a-light-in...</td> <td>http://books.toscrape.com/media/cache/2c/da/2c...</td> </tr> <tr> <th>1</th> <td>Tipping the Velvet</td> <td>5 out of 5</td> <td>$53.74</td> <td>http://books.toscrape.com/catalogue/tipping-th...</td> <td>http://books.toscrape.com/media/cache/26/0c/26...</td> </tr> <tr> <th>2</th> <td>Soumission</td> <td>5 out of 5</td> <td>$50.10</td> <td>http://books.toscrape.com/catalogue/soumission...</td> <td>http://books.toscrape.com/media/cache/3e/ef/3e...</td> </tr> <tr> <th>3</th> <td>Sharp Objects</td> <td>5 out of 5</td> <td>$47.82</td> <td>http://books.toscrape.com/catalogue/sharp-obje...</td> <td>http://books.toscrape.com/media/cache/32/51/32...</td> </tr> <tr> <th>4</th> <td>Sapiens: A Brief History ...</td> <td>5 out of 5</td> <td>$54.23</td> <td>http://books.toscrape.com/catalogue/sapiens-a-...</td> <td>http://books.toscrape.com/media/cache/be/a5/be...</td> </tr> </tbody> </table></div> </div> <p>Let’s take a look at a single record from our webpage to identify the patterns. Once we can see the page, we’ll loop through every record in the page as they contain similar traits.</p> <p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--_BwOwR81--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://res.cloudinary.com/practicaldev/image/fetch/s--0vJGh1fH--/c_imagga_scale%2Cf_auto%2Cfl_progressive%2Ch_420%2Cq_auto%2Cw_1000/https://thepracticaldev.s3.amazonaws.com/i/pdfw0kcge1v8le01c1q5.PNG" alt="img1" /></p> <p>From the image above, we’ll notice that all books are contained within a list item with the class.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>col-xs-6 col-sm-4 col-md-3 col-lg-3
</code></pre></div></div> <p>By using the <code class="language-plaintext highlighter-rouge">find_all()</code> method, we can find all references of this HTML tag in the webpage. we pass the tag as the first argument and then using the attrs argument which takes in a python dictionary, we can specify attributes of the HTML tag selected. In this case, it was a class indicated above, but you can even use id as an attribute.</p> <p>Store the result in a variable, I chose the name books.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">title</span> <span class="o">=</span> <span class="n">book</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'h3'</span><span class="p">).</span><span class="n">text</span>
<span class="n">link</span> <span class="o">=</span> <span class="n">base_url</span> <span class="o">+</span> <span class="n">book</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">'a'</span><span class="p">)[</span><span class="s">'href'</span><span class="p">]</span>
</code></pre></div></div> <p>If we observe keenly, we’ll notice that each of the elements we want to extract is nested within the list item tag are all contained in similar tags, in the example above. The title of the book is between <code class="language-plaintext highlighter-rouge">h3</code> tags.</p> <p>The <code class="language-plaintext highlighter-rouge">find()</code> method returns the first matching tag.</p> <p><code class="language-plaintext highlighter-rouge">text</code> will simply return any text found within the tags specified.</p> <p>For the anchor tags, we’ll be extracting the hyper reference link.</p> <p>As opposed to <code class="language-plaintext highlighter-rouge">h3</code> tag, the <code class="language-plaintext highlighter-rouge">href</code> element is within anchor tags in HTML. Like so:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"somelink.com"</span><span class="nt">&gt;&lt;/a&gt;</span>
</code></pre></div></div> <p>In this case, the returned object will behave like a dictionary where we have a</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dictionary_name[key]
</code></pre></div></div> <p>We do this iteratively for all the values we seek to extract because we are taking advantage of the pattern in the underlying code of the webpage. Hence the use of the python for loop.</p> <p>The extracted elements are then stored in respective variables which we’ll put in a dictionary. With this information, we can then comfortably append the dictionary object to the initialized result list set before our for loop.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">single</span> <span class="o">=</span><span class="p">{</span><span class="s">'title'</span><span class="p">:</span><span class="n">title</span><span class="p">,</span><span class="s">'stars'</span><span class="p">:</span><span class="n">stars</span><span class="p">,</span><span class="s">'price'</span><span class="p">:</span><span class="n">price</span><span class="p">,</span><span class="s">'link'</span><span class="p">:</span><span class="n">link</span><span class="p">,</span><span class="s">'picture'</span><span class="p">:</span><span class="n">picture</span><span class="p">}</span>
<span class="n">result</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">single</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'books2.json'</span><span class="p">,</span><span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">json</span><span class="p">.</span><span class="n">dump</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div></div> <p>Finally, store the python list in a JSON file by the name “books.json” with an indent of 4 for readability purposes.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div> </div> </div> </div> </body> </html>
